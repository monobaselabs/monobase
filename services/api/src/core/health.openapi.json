{
  "openapi": "3.1.1",
  "info": {
    "title": "Health Check API",
    "description": "Application health monitoring endpoints for infrastructure and monitoring systems",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "Health",
      "description": "Application health monitoring endpoints for infrastructure tools, load balancers, orchestration platforms, and monitoring systems. These endpoints provide standardized health status information following industry best practices."
    }
  ],
  "paths": {
    "/livez": {
      "get": {
        "tags": ["Health"],
        "summary": "Application liveness check",
        "description": "Application liveness endpoint that indicates whether the application process is running and functional. This lightweight check verifies basic application health without testing external dependencies. Used by container orchestrators, process managers, and monitoring tools to determine if an application should be restarted. Returns simple text responses by default, with optional verbose JSON format for detailed information.",
        "parameters": [
          {
            "name": "verbose",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Return detailed JSON response instead of simple text response"
          }
        ],
        "responses": {
          "200": {
            "description": "Application is live and functioning",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                },
                "example": "ok"
              },
              "application/health+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["pass", "fail", "warn"]
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "checks": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string",
                        "enum": ["pass", "fail", "warn"]
                      }
                    }
                  },
                  "required": ["status", "timestamp"]
                },
                "example": {
                  "status": "pass",
                  "timestamp": "2025-01-14T10:30:00.000Z",
                  "checks": {
                    "ping": "pass"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/readyz": {
      "get": {
        "tags": ["Health"],
        "summary": "Application readiness check",
        "description": "Application readiness endpoint that performs comprehensive health checks to determine if the application can serve traffic and handle requests. Tests critical dependencies including database connectivity, storage availability, and background job processing. Used by load balancers, reverse proxies, and traffic routing systems to determine if requests should be sent to this instance. Returns simple text responses by default, with optional verbose JSON format showing individual component health status.",
        "parameters": [
          {
            "name": "verbose",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Return detailed JSON response with individual component health status"
          }
        ],
        "responses": {
          "200": {
            "description": "Application is ready to serve traffic",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                },
                "example": "ok"
              },
              "application/health+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["pass", "fail", "warn"]
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "checks": {
                      "type": "object",
                      "properties": {
                        "database": {
                          "type": "string",
                          "enum": ["pass", "fail", "warn"]
                        },
                        "storage": {
                          "type": "string",
                          "enum": ["pass", "fail", "warn"]
                        },
                        "jobs": {
                          "type": "string",
                          "enum": ["pass", "fail", "warn"]
                        }
                      }
                    }
                  },
                  "required": ["status", "timestamp", "checks"]
                },
                "example": {
                  "status": "pass",
                  "timestamp": "2025-01-14T10:30:00.000Z",
                  "checks": {
                    "database": "pass",
                    "storage": "pass",
                    "jobs": "pass"
                  }
                }
              }
            }
          },
          "503": {
            "description": "Application is not ready to serve traffic",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                },
                "example": "failed"
              },
              "application/health+json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["pass", "fail", "warn"]
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "checks": {
                      "type": "object",
                      "properties": {
                        "database": {
                          "type": "string",
                          "enum": ["pass", "fail", "warn"]
                        },
                        "storage": {
                          "type": "string",
                          "enum": ["pass", "fail", "warn"]
                        },
                        "jobs": {
                          "type": "string",
                          "enum": ["pass", "fail", "warn"]
                        }
                      }
                    }
                  },
                  "required": ["status", "timestamp", "checks"]
                },
                "example": {
                  "status": "fail",
                  "timestamp": "2025-01-14T10:30:00.000Z",
                  "checks": {
                    "database": "pass",
                    "storage": "fail",
                    "jobs": "pass"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}